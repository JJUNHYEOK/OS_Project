# OS_Project
2025-1학기 OS 프로젝트

# Command Injection 취약점 대응 OS 보안 강화 메커니즘

- 배경 : 정보화 사회의 급속한 발전으로 인해 컴퓨터 시스템과 네트워크는 우리의 일상과 산업 전반에 필수적인 요소가 되었다. 그러나 이러한 기술의 발전은 동시에 다양한 보안 위협을 수반하고 있으며, 그중 명령어 주입(Command Injection) 공격은 시스템의 취약점을 노려 악의적인 명령을 실행시킬 수 있는 심각한 보안 취약점으로 부각되고 있다.
(2025년 SKT 사태를 바탕으로 보안에 대한 무관심, 안일함이 논란이 되고 있다. 일상과 산업 전반에 필수적인 컴퓨터 시스템과 네트워크의 보안에 대한 경각심을 키우고자 하는 마음에서 본 연구는 출발한다.) 

- 명령어 주입 공격은 시스템 명령어를 삽입하여 관리자 권한을 획득하거나 중요한 데이터를 유출하고 시스템을 손상시킬 수 있다. 이러한 공격은 사용자 입력을 제대로 검증하지 않을 때 빈번히 발생하며, 그 결과는 시스템의 안정성과 보안을 심각하게 위협할 수 있다.

- 이러한 배경에서 운영 체제 수준의 보안 강화 메커니즘을 통해 명령어 주입 취약점에 효과적으로 대응할 필요성이 커지고 있다. 운영 체제는 시스템 자원의 접근을 제어하고, 프로세스 간의 격리를 관리하는 핵심적인 역할을 수행한다. 따라서 OS 수준에서 보안을 강화함으로써 명령어 주입 공격에 대한 방어를 체계적으로 구축할 수 있다.



**목표**

- 본 프로젝트는 이러한 문제의식에 기반하여 명령어 주입 취약점에 대응하기 위한 운영 체제 수준의 보안 메커니즘을 설계하고 구현하는 것을 목표로 한다. 이를 통해 시스템의 신뢰성을 높이고, 다양한 보안 위협으로부터 보호할 수 있는 견고한 방어 체계를 마련하고자 한다. 최종적으로 본 연구는 정보 보안 분야의 발전에 기여하고, 안전한 컴퓨팅 환경을 구축하는 데 기여할 것이다

**이론적 배경**

1. Command Injection의 정의 및 예시

- Command Injection(명령어 주입): 외부 입력값을 통해 시스템 명령어가 실행되도록 유도하는 보안 취약점으로, 프로그램이 사용자 입력을 제대로 검증하지 않고 운영체제 명령어로 직접 전달할 때 발생한다. 이러한 취약점은 공격자가 입력값에 쉘 명령어 연산자를 삽입함으로써, 원래 의도된 명령 외에 추가적인 명령어를 실행할 수 있도록 만든다.
- 예시:  서버에서 사용자 입력값으로 쉘 스크립트를 실행하는 자동화 시스템에서, 공격자가 악의적인 입력을 통해 임의의 명령어를 삽입하면 전체 시스템이 손상될 수 있다. 
- 운영체제 명령어를 호출하는 백엔드 API에서 파일이름이나 사용자 입력을 그대로 넘길 경우, 공격자가 명령어 연산자를 이용해 시스템 명령을 조작하거나 추가 실행할 수 있다.
- 웹 관리 페이지에서 네트워크 명령어를 입력값 기반으로 실행할 때, 공격자가 입력란에 추가 명령어를 삽입해 서버 내부 정보를 빼낼 수 있다


2. LD_PRELOAD

- 개요 : LD_PRELOAD는 Linux에서 제공하는 동적 링킹(Dynamic Linking) 기법으로, 프로그램 실행 시 특정 공유 라이브러리를 먼저 로드하여 기존 라이브러리 함수를 가로채거나 재정의할 수 있는 환경변수이다.

- 동작 원리 : 일반적으로 프로그램은 libc에 정의된 system()을 호출한다. 그러나 LD_PRELOAD를 사용하면 사용자가 정의한 system() 함수가 먼저 호출된다. 이를 통해 원래의 system()을 감시하거나, 실행을 막는 보안 로직을 삽입할 수 있다.

- 보안 활용 : system(), execvp() 등의 호출을 감시한다. 또한 위험 명령어를 포함하면 로그를 출력 후 실행이 중단되도록 하고, 프로그램 수정 없이 외부에서 보안 계층을 삽입할 수 있다.


3. 기존 보안 방식과의 비교
- 기존 시스템 : 소스 코드를 수정하거나 정적 링크를 통해 기능을 추가하여야 한다.
- LD_PRELOAD : 실행 시점에서 라이브러리를 동적으로 대체한다. 이는 소스 코드를 수정하지 않고도 동작을 변경할 수 있는 유연성을 제시한다. 이는 비침투적인 접근이 가능하도록 한다.


**역할 구분**

1. 취약점 재현 및 테스트 설계 : 신유관
- 취약 코드(vulnerable.c) 구현 → 실험용 입력 시나리오 설계 (정상/공격) → 실행 환경 준비(Linux) → 결과 비교 및 실험 계획 정리

2. 보안 감시 모듈 개발(LD_PRELOAD) : 안준우
- secure_wrapper.c 구현 → 위험 명령어 탐지 로직 작성(패턴 필터링) → LD_PRELOAD 원리 학습 및 적용 테스트 → 로그 출력 및 실패처리 방식 설계

3. 실험 실행 및 분석 : 조현명
- 보안 적용 전/후 테스트 자동화 스크립트 제작 → 각 시나리오별 실행 결과 수집 → 성능 측정(time 함수 이용) → 차단율 및 성능 수치/시각화

4. 문서화 및 발표 자료 제작 : 정준혁
- 프로젝트 소개 문서 작성 → 실험 시나리오 도식화 → 역할 분담 및 결과 보고서 정리 → 발표용 슬라이드 및 발표 준비 진행, 발표 녹화 및 업로드


**시스템 설계 및 구성**

플로우차트






# OS_Project
2025-1학기 OS 프로젝트

# Command Injection 취약점 대응 OS 보안 강화 메커니즘

[!ppt 1st slide](/pic/front.png)

## 💻 개요 및 목적

- 정보화 사회 발전에 따른 시스템 및 네트워크 보안의 중요성 증대 (2025년 SKT 유심 정보 유출 대란)
- Command Injection을 통한 관리자 권한 탈취, 데이터 유출이 가능
- 목적 : OS 수준 보안 강화 메커니즘을 설계 및 구현하여, 해당 공격 유형을 방어하도록 함




## 🧍🏼‍♂️ 역할 분담

- 신유관 : 취약점 재현 코드(vulnerable.c) 및 기본 방어 코드(secure.c)설계
- 안준우 : LD_PRELOAD를 사용한 보안 감시 모듈 개발
- 조현명 : 실험 실행 및 분석
- 정준혁 : 문서화 및 발표 자료 제작



## 📆 개발 기간 및 진행상황

- 25.05.14 ~ 28.
- Command Injection 내용 학습(25.05.14.)
- 취약 코드 및 방어 코드 1차 구현 완료(25.05.20)
- PPT 1차 작업 완료(25.05.21)


## 🛠️ 개발 환경

- Linux(UNIX) : 컴파일 및 실행
- VSCode : 코드 작성
- Language : C

## 차후 과제

- general한 상황도 포함시킬 것인지?
- PPT 수정 및 스크립트 작성







**이론적 배경**

1. Command Injection의 정의 및 예시

- Command Injection(명령어 주입): 외부 입력값을 통해 시스템 명령어가 실행되도록 유도하는 보안 취약점으로, 프로그램이 사용자 입력을 제대로 검증하지 않고 운영체제 명령어로 직접 전달할 때 발생한다. 이러한 취약점은 공격자가 입력값에 쉘 명령어 연산자를 삽입함으로써, 원래 의도된 명령 외에 추가적인 명령어를 실행할 수 있도록 만든다.
- 예시:  서버에서 사용자 입력값으로 쉘 스크립트를 실행하는 자동화 시스템에서, 공격자가 악의적인 입력을 통해 임의의 명령어를 삽입하면 전체 시스템이 손상될 수 있다. 
- 운영체제 명령어를 호출하는 백엔드 API에서 파일이름이나 사용자 입력을 그대로 넘길 경우, 공격자가 명령어 연산자를 이용해 시스템 명령을 조작하거나 추가 실행할 수 있다.
- 웹 관리 페이지에서 네트워크 명령어를 입력값 기반으로 실행할 때, 공격자가 입력란에 추가 명령어를 삽입해 서버 내부 정보를 빼낼 수 있다


2. LD_PRELOAD

- 개요 : LD_PRELOAD는 Linux에서 제공하는 동적 링킹(Dynamic Linking) 기법으로, 프로그램 실행 시 특정 공유 라이브러리를 먼저 로드하여 기존 라이브러리 함수를 가로채거나 재정의할 수 있는 환경변수이다.

- 동작 원리 : 일반적으로 프로그램은 libc에 정의된 system()을 호출한다. 그러나 LD_PRELOAD를 사용하면 사용자가 정의한 system() 함수가 먼저 호출된다. 이를 통해 원래의 system()을 감시하거나, 실행을 막는 보안 로직을 삽입할 수 있다.

- 보안 활용 : system(), execvp() 등의 호출을 감시한다. 또한 위험 명령어를 포함하면 로그를 출력 후 실행이 중단되도록 하고, 프로그램 수정 없이 외부에서 보안 계층을 삽입할 수 있다.


3. 기존 보안 방식과의 비교
- 기존 시스템 : 소스 코드를 수정하거나 정적 링크를 통해 기능을 추가하여야 한다.
- LD_PRELOAD : 실행 시점에서 라이브러리를 동적으로 대체한다. 이는 소스 코드를 수정하지 않고도 동작을 변경할 수 있는 유연성을 제시한다. 이는 비침투적인 접근이 가능하도록 한다.


**역할 구분**

1. 취약점 재현 및 테스트 설계 : 신유관
- 취약 코드(vulnerable.c) 구현 → 실험용 입력 시나리오 설계 (정상/공격) → 실행 환경 준비(Linux) → 결과 비교 및 실험 계획 정리

2. 보안 감시 모듈 개발(LD_PRELOAD) : 안준우
- secure_wrapper.c 구현 → 위험 명령어 탐지 로직 작성(패턴 필터링) → LD_PRELOAD 원리 학습 및 적용 테스트 → 로그 출력 및 실패처리 방식 설계

3. 실험 실행 및 분석 : 조현명
- 보안 적용 전/후 테스트 자동화 스크립트 제작 → 각 시나리오별 실행 결과 수집 → 성능 측정(time 함수 이용) → 차단율 및 성능 수치/시각화

4. 문서화 및 발표 자료 제작 : 정준혁
- 프로젝트 소개 문서 작성 → 실험 시나리오 도식화 → 역할 분담 및 결과 보고서 정리 → 발표용 슬라이드 및 발표 준비 진행, 발표 녹화 및 업로드


**시스템 설계 및 구성**

플로우차트





